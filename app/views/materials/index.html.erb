<p id="notice"><%= notice %></p>

<h1>Materials
  <a href="http://localhost:3000/materials/new" class="btn-floating btn-large waves-effect waves-light blue">
    <i class="material-icons">add</i>
  </a>
</h1>
<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for materials..." title="Type in a name">

<div class="panel panel-default shadow-pane" style="min-width:100%">
  <div class="panel-heading">

  </div>
  <%= pie_chart Material.countmat, title: 'Most Popular Materials', legend: 'bottom', colors:["#2956A8","#DE4276","#F5D857","#ECECD7","#4D4D4C"], donut: true %>
  <div class="panel-body">
    <table id="myTable" class="table table-hover text-center striped">
      <thead>
      <tr>
        <th>Description</th>

        <!--< if @colors.length > 0 && @colors.total_pages > 1 %>-->
        <!--<div class="input-group stylish-input-group">-->
        <!--<input type="text" class="form-control" placeholder="Search">-->
        <!--<span class="input-group-addon">-->
        <!--<button type="submit">-->
        <!--<span class="glyphicon glyphicon-search"></span>-->
        <!--</button>-->
        <!--</span>-->
        <!--</div>-->
        <!--< end %>-->
      </tr>

      </thead>

    <% @materials.each do |material| %>
      <tbody>
          <tr data-link="<%= material_path(material) %>" class="clickable-row">

          <td><%= material.description %></td>

            <td><div class="dropdown">
              <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"><span class="caret"></span></button>
              <ul class="dropdown-menu">
                <li><%= link_to 'Edit', edit_material_path(material)%></li>
              </ul>


        </div></td>
          </tr>
      <% end %>
      </tbody>
    </table>
</div>
</div>
<br>

  </tbody>
</table>

<br>

<script>
    function myFunction() {
        var input, filter, table, tr, td, i;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0];
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }
</script>